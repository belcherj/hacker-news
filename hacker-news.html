<link rel="import" href="bower_components/polymer/polymer.html">

<link rel="import" href="bower_components/core-ajax/core-ajax.html">
<link rel="import" href="bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="bower_components/firebase-element/firebase-element.html">
<link rel="import" href="bower_components/paper-item/paper-item.html">

<polymer-element name="hacker-news" attributes="">
  <template>

    <link rel="stylesheet" href="hacker-news.css">
    <firebase-element location="https://hacker-news.firebaseio.com/v0/topstories" data="{{items}}"></firebase-element>

    <core-toolbar>
      <div id="page-title" flex>Polymer &#60;hacker-news&#62;</div>
    </core-toolbar>

    <ul>
      <template repeat="{{item, i in items}}">
        <li>
            <core-ajax
              auto
              url="https://hacker-news.firebaseio.com/v0/item/{{item}}.json"
              handleAs="json"
              response="{{stories[i]}}"></core-ajax>
            <a href="{{stories[i].url}}">{{stories[i].title}}</a>
        </li>
      </template>
    </ul>

  </template>
  <script>
    (function () {
      'use strict';

      Polymer({
        publish: {
          stories: []
        }

      });

    })();
  </script>
</polymer-element>
